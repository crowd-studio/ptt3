!function($){var t,e=$();$.fn.sortable=function(a){var n=String(a);return a=$.extend({connectWith:!1},a),this.each(function(){if(/^enable|disable|destroy$/.test(n)){var r=$(this).children($(this).data("items")).attr("draggable","enable"==n);return void("destroy"==n&&r.add(this).removeData("connectWith items").off("dragstart.h5s dragend.h5s selectstart.h5s dragover.h5s dragenter.h5s drop.h5s"))}var i,s,r=$(this).children(a.items),d=$("<"+(/^ul|ol$/i.test(this.tagName)?"li":"div")+' class="sortable-placeholder">');r.find(a.handle).mousedown(function(){i=!0}).mouseup(function(){i=!1}),$(this).data("items",a.items),e=e.add(d),a.connectWith&&$(a.connectWith).add(this).data("connectWith",a.connectWith),r.attr("draggable","true").on("dragstart.h5s",function(e){if(a.handle&&!i)return!1;i=!1;var n=e.originalEvent.dataTransfer;n.effectAllowed="move",n.setData("Text","dummy"),s=(t=$(this)).addClass("sortable-dragging").index()}).on("dragend.h5s",function(){t.removeClass("sortable-dragging").show(),e.detach(),s!=t.index()&&r.parent().trigger("sortupdate",{item:t}),t=null}).not("a[href], img").on("selectstart.h5s",function(){return this.dragDrop&&this.dragDrop(),!1}).end().add([this,d]).on("dragover.h5s dragenter.h5s drop.h5s",function(n){return r.is(t)||a.connectWith===$(t).parent().data("connectWith")?"drop"==n.type?(n.stopPropagation(),e.filter(":visible").after(t),!1):(n.preventDefault(),n.originalEvent.dataTransfer.dropEffect="move",r.is(this)?(a.forcePlaceholderSize&&d.height(t.outerHeight()),t.hide(),$(this)[d.index()<$(this).index()?"after":"before"](d),e.not(d).detach()):e.is(this)||$(this).children(a.items).length||(e.detach(),$(this).append(d)),!1):!0})})}}(jQuery);